<h2>Register</h2>

@if (showFormError) {
    <div class="error-message centered-error">
        Please fix the errors in the form before submitting.
    </div>
}

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div>
    <label>Email:</label>
    <input type="text" formControlName="email" />

    @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
      <div>
        @if (registerForm.get('email')?.errors?.['required']) {
          <small style="color: red;">Email is required.</small>
        } @else if (registerForm.get('email')?.errors?.['email']) {
          <small style="color: red;">Invalid email format.</small>
        }
      </div>
    }
  </div>

  <div>
    <label>Password:</label>
    <input type="password" formControlName="password" />

    @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
      <div>
        @if (registerForm.get('password')?.errors?.['required']) {
          <small style="color: red;">Password is required.</small>
        } @else if (registerForm.get('password')?.errors?.['minlength']) {
          <small style="color: red;">Minimum 4 characters.</small>
        }
      </div>
    }
  </div>

  <button type="submit">Register</button>

  <p>
    Already registered?
    <a routerLink="/auth/login">Login here</a>.
  </p>
</form>
